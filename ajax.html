<html>
  <h2>Posts!</h2>
  <hr />

  <ul id="lista"></ul>

  <script type="module">
    const lista = document.getElementById("lista");

    // fetch("https://jsonplaceholder.typicode.com/posts")
    //   .then((resp) => resp.json())
    //   .then((data) => {
    //     data.forEach(({ title, body }) => {
    //       const li = document.createElement("li");

    //       li.innerHTML = "<h4>" + title + "</h4>" + "<p>" + body + "</p>";
    //       lista.append(li);
    //     });
    //   });

    // fetch("http://localhost:3000/users", {
    //   method: "POST",
    //   body: JSON.stringify({
    //     name: "Carolina",
    //     email: "carolina@gmail.com",
    //     id: 3,
    //   }),
    //   headers: {
    //     "Content-type": "application/json; charset=UTF-8",
    //   },
    // })
    //   .then((response) => response.json())
    //   .then((data) => console.log(data))
    //   .catch((erro) => {
    //     console.log("erro");
    //   })
    //   .finally(() => {
    //     console.log("finalmente terminou");
    //   });

    // const fazerRequisicao = async () => {
    //   const resp = await fetch("https://jsonplaceholder.typicode.com/posts");
    //   return resp;
    // };

    fetch("http://localhost:3000/users/1", {
      method: "delete",
    })
      .then((response) => response.json())
      .then((data) => console.log(data))
      .catch((erro) => {
        console.log("erro");
      })
      .finally(() => {
        console.log("finalmente terminou");
      });

    const solicitarUsers = async () => {
      const resp = await fetch("http://localhost:3000/users");
      const data = await resp.json();

      data.forEach((user) => {
        const li = document.createElement("li");
        li.innerHTML =
          "<h4>" + user.name + "</h4>" + "<p>" + user.email + "</p>";
        lista.append(li);
      });
    };

    solicitarUsers();
  </script>
</html>
